(function($){$.fn.pager=function(options){var opts=$.extend({},$.fn.pager.defaults,options);return this.each(function(){$(this).empty().append(renderpager(parseInt(options.pagenumber),parseInt(options.pagecount),options.buttonClickCallback));$(".tn-pagination a").mouseover(function(){this.style.cursor="pointer";$(this).addClass("hover")}).mouseout(function(){this.style.cursor="auto";$(this).removeClass("hover")})})};function renderpager(pagenumber,pagecount,buttonClickCallback){var $pager=$('<div class="tn-pagination"></div>');$pager.append(renderButton("首页",pagenumber,pagecount,buttonClickCallback)).append(renderButton("<",pagenumber,pagecount,buttonClickCallback));var startPoint=1;var endPoint=9;if(pagenumber>4){startPoint=pagenumber-4;endPoint=pagenumber+4}if(endPoint>pagecount){startPoint=pagecount-8;endPoint=pagecount}if(startPoint<1){startPoint=1}var mpage="";for(var page=startPoint;page<=endPoint;page++){var currentButton=$('<a href="javascript:void(0);" class="tn-page-number '+mpage+'">'+(page)+"</a>");currentButton.appendTo($pager);page==(pagenumber)?currentButton.addClass("tn-selected"):currentButton.click(function(event){event.preventDefault();event.stopPropagation();buttonClickCallback($(this).children(":first-child").html());$("body,html").scrollTop(0)})}$pager.append(renderButton(">",pagenumber,pagecount,buttonClickCallback)).append(renderButton("尾页",pagenumber,pagecount,buttonClickCallback));return $pager}function renderButton(buttonLabel,pagenumber,pagecount,buttonClickCallback){var $Button=$('<a href="javascript:void(0);" class="tn-page-next">'+buttonLabel+"</a>");var destPage=1;switch(buttonLabel){case"首页":destPage=1;break;case"上一页":destPage=pagenumber-1;break;case"下一页":destPage=pagenumber+1;break;case"尾页":destPage=pagecount;break}if(buttonLabel=="首页"||buttonLabel=="上一页"){if(buttonLabel=="上一页"){$Button.addClass("prevpage")}pagenumber<=1?$Button.addClass("pgEmpty"):$Button.click(function(event){event.preventDefault();event.stopPropagation();buttonClickCallback(destPage);$("body,html").scrollTop(0)})}else{if(buttonLabel=="下一页"){$Button.addClass("nextpage")}pagenumber>=pagecount?$Button.addClass("pgEmpty"):$Button.click(function(event){event.preventDefault();event.stopPropagation();buttonClickCallback(destPage);$("body,html").scrollTop(0)})}return $Button}$.fn.pager.defaults={pagenumber:1,pagecount:1}})(jQuery);   